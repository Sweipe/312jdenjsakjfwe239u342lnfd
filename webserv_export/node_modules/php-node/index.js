module.exports = function(o) {
    if(!o || !'bin' in o) o = { bin: 'php' };

    return function(fn, opts, cb) {
		let path = `"${o.bin}" "${fn}"`;
		if(o.args) {
			for(const i in o.args) {
				path += ` ${o.args[i]}`;
			}
		}
        require("child_process").exec(path, function(e, so, sr) {
            cb(e || sr, so);
        })
    }
}